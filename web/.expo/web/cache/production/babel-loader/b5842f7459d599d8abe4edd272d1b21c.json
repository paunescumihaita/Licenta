{"ast":null,"code":"var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=withNavigationFocus;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _assertThisInitialized2=_interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var React=_interopRequireWildcard(require(\"react\"));var _hoistNonReactStatics=_interopRequireDefault(require(\"hoist-non-react-statics\"));var _withNavigation=_interopRequireDefault(require(\"./withNavigation\"));function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function withNavigationFocus(Component){var ComponentWithNavigationFocus=function(_React$Component){(0,_inherits2.default)(ComponentWithNavigationFocus,_React$Component);var _super=_createSuper(ComponentWithNavigationFocus);function ComponentWithNavigationFocus(){var _this;(0,_classCallCheck2.default)(this,ComponentWithNavigationFocus);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_defineProperty((0,_assertThisInitialized2.default)(_this),\"state\",{isFocused:_this.props.navigation.isFocused()});return _this;}(0,_createClass2.default)(ComponentWithNavigationFocus,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var navigation=this.props.navigation;this.subscriptions=[navigation.addListener('willFocus',function(){return _this2.setState({isFocused:true});}),navigation.addListener('willBlur',function(){return _this2.setState({isFocused:false});})];}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var _this$subscriptions;(_this$subscriptions=this.subscriptions)===null||_this$subscriptions===void 0?void 0:_this$subscriptions.forEach(function(sub){return sub.remove();});}},{key:\"render\",value:function render(){return React.createElement(Component,_extends({},this.props,{isFocused:this.state.isFocused,ref:this.props.onRef}));}}]);return ComponentWithNavigationFocus;}(React.Component);_defineProperty(ComponentWithNavigationFocus,\"displayName\",\"withNavigationFocus(\".concat(Component.displayName||Component.name,\")\"));return(0,_hoistNonReactStatics.default)((0,_withNavigation.default)(ComponentWithNavigationFocus,{forwardRef:false}),Component);}","map":{"version":3,"sources":["withNavigationFocus.js"],"names":["React","Component","isFocused","componentDidMount","navigation","componentWillUnmount","sub","render","onRef","hoistStatics","withNavigation","forwardRef"],"mappings":"20BAAA,oDACA,qFACA,wE,qqCAEe,QAAA,CAAA,mBAAA,CAAA,SAAA,CAAwC,IACrD,CAAA,4BADqD,wJACM,uCAAA,yGAAA,IAAA,0CAAA,IAAA,wBAAA,6CAAA,IAAA,GAAA,eAAA,4CAAA,OAAA,CAKjD,CACNE,SAAS,CAAE,MAAA,KAAA,CAAA,UAAA,CAAA,SAAA,EADL,CALiD,CAAA,CAAA,aAAA,CADN,uFAUnDC,4BAAoB,oBACVC,CAAAA,UADU,CACK,KAAvB,KADkB,CACVA,UADU,CAGlB,KAAA,aAAA,CAAqB,CACnB,UAAU,CAAV,WAAA,CAAA,WAAA,CAAoC,iBAClC,CAAA,MAAA,CAAA,QAAA,CAAc,CAAEF,SAAS,CAAE,IAAb,CAAd,CADkC,EAApC,CADmB,CAInB,UAAU,CAAV,WAAA,CAAA,UAAA,CAAmC,iBACjC,CAAA,MAAA,CAAA,QAAA,CAAc,CAAEA,SAAS,CAAE,KAAb,CAAd,CADiC,EAAnC,CAJmB,CAArB,CAQD,CArBkD,oCAuBnDG,+BAAuB,CAAA,GAAA,CAAA,mBAAA,CACrB,CAAA,mBAAA,CAAA,KAAA,aAAA,IAAA,IAAA,EAAA,mBAAA,GAAA,IAAA,EAAA,CAAA,IAAA,EAAA,CAAA,mBAAA,CAAA,OAAA,CAA6BC,SAAAA,GAAD,QAASA,CAAAA,GAAG,CAAxC,MAAqCA,EAAT,EAA5B,CAAA,CACD,CAzBkD,sBA2BnDC,iBAAS,CACP,MACE,CAAA,KAAA,CAAA,aAAA,CAAA,SAAA,CAAA,QAAA,CAAA,EAAA,CACM,KADN,KAAA,CAAA,CAEE,SAAS,CAAE,KAAA,KAAA,CAFb,SAAA,CAGE,GAAG,CAAE,KAAA,KAAA,CAAWC,KAHlB,CAAA,CAAA,CADF,CAOD,CAnCkD,0CACVR,KAAK,CAAhD,SADqD,EAAA,eAAA,CAAA,4BAAA,CAAA,aAAA,CAAA,uBAAA,MAAA,CAGjDC,SAAS,CAATA,WAAAA,EAAyBA,SAAS,CAHe,IAAA,CAAA,GAAA,CAAA,CAAA,CAsCrD,MAAOQ,kCACLC,4BAAc,4BAAdA,CAA6C,CAAEC,UAAU,CAAE,KAAd,CAA7CD,CADKD,CAAP,SAAOA,CAAP,CAID","sourcesContent":["import * as React from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport withNavigation from './withNavigation';\n\nexport default function withNavigationFocus(Component) {\n  class ComponentWithNavigationFocus extends React.Component {\n    static displayName = `withNavigationFocus(${\n      Component.displayName || Component.name\n    })`;\n\n    state = {\n      isFocused: this.props.navigation.isFocused(),\n    };\n\n    componentDidMount() {\n      const { navigation } = this.props;\n\n      this.subscriptions = [\n        navigation.addListener('willFocus', () =>\n          this.setState({ isFocused: true })\n        ),\n        navigation.addListener('willBlur', () =>\n          this.setState({ isFocused: false })\n        ),\n      ];\n    }\n\n    componentWillUnmount() {\n      this.subscriptions?.forEach((sub) => sub.remove());\n    }\n\n    render() {\n      return (\n        <Component\n          {...this.props}\n          isFocused={this.state.isFocused}\n          ref={this.props.onRef}\n        />\n      );\n    }\n  }\n\n  return hoistStatics(\n    withNavigation(ComponentWithNavigationFocus, { forwardRef: false }),\n    Component\n  );\n}\n"]},"metadata":{},"sourceType":"script"}