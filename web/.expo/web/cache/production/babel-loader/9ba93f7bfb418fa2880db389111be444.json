{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=validateDeprecatedOptions;var _defineProperty2=_interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));var _extends3=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _toConsumableArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));var shownWarnings=[];var validations=[{check:function check(o){return typeof o.headerForceInset==='object';},deprecated:'headerForceInset',updated:'safeAreaInsets',compat:function compat(o){var headerForceInset=o.headerForceInset,rest=(0,_objectWithoutProperties2.default)(o,[\"headerForceInset\"]);var safeAreaInsets={top:0,bottom:0,left:0,right:0};switch(headerForceInset){case'top':delete safeAreaInsets.top;break;case'bottom':delete safeAreaInsets.bottom;break;case'left':delete safeAreaInsets.left;break;case'right':delete safeAreaInsets.right;break;case'vertical':delete safeAreaInsets.top;delete safeAreaInsets.bottom;break;case'horizontal':delete safeAreaInsets.left;delete safeAreaInsets.right;break;case'always':safeAreaInsets=undefined;break;}return(0,_extends3.default)({},rest,{safeAreaInsets:safeAreaInsets});}},{check:function check(o){return o.gesturesEnabled!==undefined;},deprecated:'gesturesEnabled',updated:'gestureEnabled',compat:function compat(o){var gesturesEnabled=o.gesturesEnabled,rest=(0,_objectWithoutProperties2.default)(o,[\"gesturesEnabled\"]);return(0,_extends3.default)({},rest,{gestureEnabled:gesturesEnabled});}},{check:function check(o){return o.header===null;},deprecated:'header: null',updated:'headerShown: false',compat:function compat(o){var header=o.header,rest=(0,_objectWithoutProperties2.default)(o,[\"header\"]);return(0,_extends3.default)({},rest,{headerShown:false});}},{check:function check(o){return o.header!=null&&typeof o.header!=='function';},deprecated:'header: <SomeElement />',updated:'header: () => <SomeElement />',compat:function compat(o){return(0,_extends3.default)({},o,{header:function header(){return o.header;}});}},{check:function check(o){return o.headerTitle!==undefined&&typeof o.headerTitle!=='string'&&typeof o.headerTitle!=='function';},deprecated:'headerTitle: <SomeElement />',updated:'headerTitle: () => <SomeElement />',compat:function compat(o){return(0,_extends3.default)({},o,{headerTitle:function headerTitle(){return o.headerTitle;}});}}].concat((0,_toConsumableArray2.default)(['headerLeft','headerRight','headerBackground','headerBackImage'].map(function(p){return{check:function check(o){return o[p]!==undefined&&typeof o[p]!=='function';},deprecated:\"\".concat(p,\": <SomeElement />\"),updated:\"\".concat(p,\": () => <SomeElement />\"),compat:function compat(o){return(0,_extends3.default)({},o,(0,_defineProperty2.default)({},p,function(){return o[p];}));}};})));function validateDeprecatedOptions(options){var result=options;var warnings=[];validations.forEach(function(v){if(v.check(options)){result=v.compat(result);if(process.env.NODE_ENV!=='production'){if(shownWarnings.includes(v.deprecated)){return;}warnings.push(v);shownWarnings.push(v.deprecated);}}});if(warnings.length){console.warn(\"Deprecation in 'navigationOptions':\\n\".concat(warnings.map(function(v){return\"- '\".concat(v.deprecated,\"' will be removed in a future version. Use '\").concat(v.updated,\"' instead\");}).join('\\n')));}return result;}","map":{"version":3,"sources":["validateDeprecatedOptions.tsx"],"names":["shownWarnings","validations","check","o","deprecated","updated","compat","rest","safeAreaInsets","top","bottom","left","right","gestureEnabled","gesturesEnabled","headerShown","header","headerTitle","p","result","warnings","v","process","console"],"mappings":"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","sourcesContent":["import type { EdgeInsets } from 'react-native-safe-area-context';\nimport type { StackNavigationOptions } from '../vendor/types';\n\ntype Validation = {\n  check: (o: Record<string, any>) => boolean;\n  deprecated: string;\n  updated: string;\n  compat: (o: Record<string, any>) => StackNavigationOptions;\n};\n\nconst shownWarnings: string[] = [];\n\nconst validations: Validation[] = [\n  {\n    check: (o) => typeof o.headerForceInset === 'object',\n    deprecated: 'headerForceInset',\n    updated: 'safeAreaInsets',\n    compat: (o) => {\n      const { headerForceInset, ...rest } = o;\n\n      let safeAreaInsets: Partial<EdgeInsets> | undefined = {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n      };\n\n      switch (headerForceInset) {\n        case 'top':\n          delete safeAreaInsets.top;\n          break;\n        case 'bottom':\n          delete safeAreaInsets.bottom;\n          break;\n        case 'left':\n          delete safeAreaInsets.left;\n          break;\n        case 'right':\n          delete safeAreaInsets.right;\n          break;\n        case 'vertical':\n          delete safeAreaInsets.top;\n          delete safeAreaInsets.bottom;\n          break;\n        case 'horizontal':\n          delete safeAreaInsets.left;\n          delete safeAreaInsets.right;\n          break;\n        case 'always':\n          safeAreaInsets = undefined;\n          break;\n      }\n\n      return { ...rest, safeAreaInsets };\n    },\n  },\n  {\n    check: (o) => o.gesturesEnabled !== undefined,\n    deprecated: 'gesturesEnabled',\n    updated: 'gestureEnabled',\n    compat: (o) => {\n      const { gesturesEnabled, ...rest } = o;\n\n      return { ...rest, gestureEnabled: gesturesEnabled };\n    },\n  },\n  {\n    check: (o) => o.header === null,\n    deprecated: 'header: null',\n    updated: 'headerShown: false',\n    compat: (o) => {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const { header, ...rest } = o;\n\n      return { ...rest, headerShown: false };\n    },\n  },\n  {\n    check: (o) => o.header != null && typeof o.header !== 'function',\n    deprecated: 'header: <SomeElement />',\n    updated: 'header: () => <SomeElement />',\n    compat: (o) => ({ ...o, header: () => o.header }),\n  },\n  {\n    check: (o) =>\n      o.headerTitle !== undefined &&\n      typeof o.headerTitle !== 'string' &&\n      typeof o.headerTitle !== 'function',\n    deprecated: 'headerTitle: <SomeElement />',\n    updated: 'headerTitle: () => <SomeElement />',\n    compat: (o) => ({ ...o, headerTitle: () => o.headerTitle }),\n  },\n  ...['headerLeft', 'headerRight', 'headerBackground', 'headerBackImage'].map(\n    (p): Validation => ({\n      check: (o: any) => o[p] !== undefined && typeof o[p] !== 'function',\n      deprecated: `${p}: <SomeElement />`,\n      updated: `${p}: () => <SomeElement />`,\n      compat: (o) => ({ ...o, [p]: () => o[p] }),\n    })\n  ),\n];\n\nexport default function validateDeprecatedOptions(\n  options: StackNavigationOptions\n) {\n  let result = options;\n\n  const warnings: Validation[] = [];\n\n  // Validate options to show warnings for deprecations\n  validations.forEach((v) => {\n    if (v.check(options)) {\n      result = v.compat(result);\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (shownWarnings.includes(v.deprecated)) {\n          return;\n        }\n\n        warnings.push(v);\n        shownWarnings.push(v.deprecated);\n      }\n    }\n  });\n\n  if (warnings.length) {\n    console.warn(\n      `Deprecation in 'navigationOptions':\\n${warnings\n        .map(\n          (v) =>\n            `- '${v.deprecated}' will be removed in a future version. Use '${v.updated}' instead`\n        )\n        .join('\\n')}`\n    );\n  }\n\n  return result;\n}\n"]},"metadata":{},"sourceType":"script"}