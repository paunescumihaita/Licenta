{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=useEvent;var _createEventHandle=_interopRequireDefault(require(\"../createEventHandle\"));var _useLayoutEffect=_interopRequireDefault(require(\"../useLayoutEffect\"));var _useStable=_interopRequireDefault(require(\"../useStable\"));function useEvent(event,options){var targetListeners=(0,_useStable.default)(function(){return new Map();});var addListener=(0,_useStable.default)(function(){var addEventListener=(0,_createEventHandle.default)(event,options);return function(target,callback){var removeTargetListener=targetListeners.get(target);if(removeTargetListener!=null){removeTargetListener();}if(callback==null){targetListeners.delete(target);}var removeEventListener=addEventListener(target,callback);targetListeners.set(target,removeEventListener);return removeEventListener;};});(0,_useLayoutEffect.default)(function(){return function(){if(addListener!=null){targetListeners.forEach(function(removeListener){removeListener();});targetListeners.clear();}addListener=null;};},[addListener]);return addListener;}","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Aplicatie/Licenta/web/node_modules/react-native-web/dist/modules/useEvent/index.js"],"names":["useEvent","event","options","targetListeners","Map","addListener","addEventListener","target","callback","removeTargetListener","get","delete","removeEventListener","set","forEach","removeListener","clear"],"mappings":"qKAQA,+EACA,2EACA,+DAWe,QAASA,CAAAA,QAAT,CAAkBC,KAAlB,CAAyBC,OAAzB,CAAkC,CAC/C,GAAIC,CAAAA,eAAe,CAAG,uBAAU,UAAY,CAC1C,MAAO,IAAIC,CAAAA,GAAJ,EAAP,CACD,CAFqB,CAAtB,CAGA,GAAIC,CAAAA,WAAW,CAAG,uBAAU,UAAY,CACtC,GAAIC,CAAAA,gBAAgB,CAAG,+BAAkBL,KAAlB,CAAyBC,OAAzB,CAAvB,CACA,MAAO,UAAUK,MAAV,CAAkBC,QAAlB,CAA4B,CACjC,GAAIC,CAAAA,oBAAoB,CAAGN,eAAe,CAACO,GAAhB,CAAoBH,MAApB,CAA3B,CAEA,GAAIE,oBAAoB,EAAI,IAA5B,CAAkC,CAChCA,oBAAoB,GACrB,CAED,GAAID,QAAQ,EAAI,IAAhB,CAAsB,CACpBL,eAAe,CAACQ,MAAhB,CAAuBJ,MAAvB,EACD,CAED,GAAIK,CAAAA,mBAAmB,CAAGN,gBAAgB,CAACC,MAAD,CAASC,QAAT,CAA1C,CACAL,eAAe,CAACU,GAAhB,CAAoBN,MAApB,CAA4BK,mBAA5B,EACA,MAAOA,CAAAA,mBAAP,CACD,CAdD,CAeD,CAjBiB,CAAlB,CAkBA,6BAAgB,UAAY,CAC1B,MAAO,WAAY,CACjB,GAAIP,WAAW,EAAI,IAAnB,CAAyB,CACvBF,eAAe,CAACW,OAAhB,CAAwB,SAAUC,cAAV,CAA0B,CAChDA,cAAc,GACf,CAFD,EAGAZ,eAAe,CAACa,KAAhB,GACD,CAEDX,WAAW,CAAG,IAAd,CACD,CATD,CAUD,CAXD,CAWG,CAACA,WAAD,CAXH,EAYA,MAAOA,CAAAA,WAAP,CACD","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nimport createEventHandle from '../createEventHandle';\nimport useLayoutEffect from '../useLayoutEffect';\nimport useStable from '../useStable';\n\n/**\n * This can be used with any event type include custom events.\n *\n * const click = useEvent('click', options);\n * useEffect(() => {\n *   click.setListener(target, onClick);\n *   return () => click.clear();\n * }).\n */\nexport default function useEvent(event, options) {\n  var targetListeners = useStable(function () {\n    return new Map();\n  });\n  var addListener = useStable(function () {\n    var addEventListener = createEventHandle(event, options);\n    return function (target, callback) {\n      var removeTargetListener = targetListeners.get(target);\n\n      if (removeTargetListener != null) {\n        removeTargetListener();\n      }\n\n      if (callback == null) {\n        targetListeners.delete(target);\n      }\n\n      var removeEventListener = addEventListener(target, callback);\n      targetListeners.set(target, removeEventListener);\n      return removeEventListener;\n    };\n  });\n  useLayoutEffect(function () {\n    return function () {\n      if (addListener != null) {\n        targetListeners.forEach(function (removeListener) {\n          removeListener();\n        });\n        targetListeners.clear();\n      }\n\n      addListener = null;\n    };\n  }, [addListener]);\n  return addListener;\n}"]},"metadata":{},"sourceType":"script"}