"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const slugid_1 = __importDefault(require("slugid"));
const internal_1 = require("./internal");
function _newIdentifier(type = 'c') {
    return type + '-' + slugid_1.default.v4();
}
async function clientIdAsync() {
    let clientId = await internal_1.UserSettings.getAsync('accessToken', null);
    if (clientId === null) {
        clientId = _newIdentifier();
        await setClientIdAsync(clientId);
    }
    return clientId;
}
exports.clientIdAsync = clientIdAsync;
async function setClientIdAsync(token) {
    await internal_1.UserSettings.setAsync('accessToken', token);
    return token;
}
exports.setClientIdAsync = setClientIdAsync;
//# sourceMappingURL=Session.js.map