{"version":3,"file":"StandaloneBuild.js","sourceRoot":"","sources":["../src/StandaloneBuild.ts"],"names":[],"mappings":";;AAEA,yCAA+D;AAWxD,KAAK,UAAU,mBAAmB,CACvC,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAyB,EACpD,KAAc;IAEd,MAAM,IAAI,GAAG,MAAM,sBAAW,CAAC,mBAAmB,EAAE,CAAC;IACrD,MAAM,GAAG,GAAG,gBAAW,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IAC5C,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,GAAG,CAAC,QAAQ,CAAC,sBAAsB,EAAE;QAC5D,EAAE;QACF,IAAI;QACJ,QAAQ;QACR,KAAK;QACL,MAAM,EAAE,UAAU;QAClB,KAAK;KACN,CAAC,CAAC;IACH,OAAO,MAAM,CAAC;AAChB,CAAC;AAfD,kDAeC;AAEM,KAAK,UAAU,sBAAsB,CAAC,WAAkC;IAC7E,MAAM,MAAM,GAAG,MAAM,mBAAmB,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;IACzD,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;QACvB,OAAO,IAAI,CAAC;KACb;SAAM;QACL,OAAO,MAAM,CAAC,CAAC,CAAC,CAAC;KAClB;AACH,CAAC;AAPD,wDAOC","sourcesContent":["import { Platform } from '@expo/config';\n\nimport { ApiV2 as ApiV2Client, UserManager } from './internal';\n\ninterface StandaloneBuildParams {\n  platform: Platform;\n  id?: string;\n  slug: string;\n  owner?: string;\n}\n\nexport type Build = any;\n\nexport async function getStandaloneBuilds(\n  { platform, slug, owner, id }: StandaloneBuildParams,\n  limit?: number\n): Promise<Build[]> {\n  const user = await UserManager.ensureLoggedInAsync();\n  const api = ApiV2Client.clientForUser(user);\n  const { builds } = await api.getAsync('standalone-build/get', {\n    id,\n    slug,\n    platform,\n    limit,\n    status: 'finished',\n    owner,\n  });\n  return builds;\n}\n\nexport async function getStandaloneBuildById(queryParams: StandaloneBuildParams): Promise<Build> {\n  const builds = await getStandaloneBuilds(queryParams, 1);\n  if (builds.length === 0) {\n    return null;\n  } else {\n    return builds[0];\n  }\n}\n"]}